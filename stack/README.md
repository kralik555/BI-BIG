# Elastic Stack

## Korelace mezi svobodou, štěstím a sebevraždami

### Popis datasetu
Data v pocházejí ze dvou různých míst a všechny datové sady jsou ve formátu CSV. Data o sebevraždách pocházejí z Kaggle.com, což je webová stránka na data science a machine learning. Jsou na ní spousty datasetů a notebooků s nimi spojených. Na Kaggle jsou také prováděny soutěže o ceny. Dataset o sebevraždách pochází z dat WHO (Světová zdravotnická organizece). Tento dataset má přes 27 000 záznamů a 12 sloupců. Prvním sloupcem je Country, které je typu string a obsahuje názvy zemí. Dalším sloupcem je Year, který uvádí, z jakého roku daný záznam pochází. Je typu integer a hodnoty v něm jsou od 1985 do 2016. Dalším sloupcem je sex, který je typu string a hodnoty jsou buď male, nebo female. Dalším sloupce je age. Tento sloupce je typu string a rozděluje data na různé věkové skupiny vždy po deseti letech (počínaje patnáctým rokem věku) a jako poslední je skupina 75+. Další sloupce je suicide\_no, který udává počet sebevražd pro daný záznam. Je typu integer a obsahuje různé hodnoty od 0 až do zhruba 100. Dalším sloupcem je suicides/100k pop, který je typu float a určuje počet sebevražd na 100 000 obyvatel pro danou věkovou skupinu a pohlaví. Dalším sloupcem je country-year, který určuje zemi a rok zároveň a je typu string. Dalším sloupcem je HDI for year, který je typu float. Dalšími dvěma sloupci jsou gdp\_for\_year (\$) a gdp\_per\_capita (\$), které udávají HDP za daný rok a následně HDP na člověka. Oba sloupce jsou typu integer, jelikož jistě došlo k určitému zaokrouhlení. Posledním sloupcem této datové sady je generation, který udává generaci dané věkové skupiny.
Druhým datasetem z Kaggle.com je dataset of štěstí, jehož data pocházejí z world happiness reportu. První sloupec je Country, který je stejný jako sloupec Country v prvním popsaném datasetu. Další je sloupec Regional Indicator, který je typu string a vyskytují se v něm hodnoty jako např. "South Asia". Třetím sloupcem je Year, který je opět stejný jako Year u prvního datasetu. Dalším sloupcem je Life Ladder, který popisuje, jak šťastní jsou liidé v dané zemi. Hodnoty jsou typu float a mohou být v rozmezí od 1,27 do zhruba 8. Dalším sloupcem je Log GDP per capita. Hodnoty v tomto sloupci jsou typu float a jsou v rozmezí od 5 do 11,5. Tento sloupec zobrazuje HDP na obyvatele v přirozeném logaritmu pro lepší porovnání. Dalším sloupcem je Social Support. Tento sloupec udává míru toho, jak moc se lidé mohou spolehnout na své okolí v případě nutnosti. Jeho hodnoty jsou typu float v rozmezí od 0 do 1. Dalším sloupcem je Healthy Life Expectancy At Birth. Tento sloupec udává, jak vysokého věku se průměrně člověk dožije v relativním zdraví. Hodnoty jsou typu float a teoreticky nemají žádná omezení, ale vyskytují se hodnoty od 6 do 75. Všechny další sloupce jsou typu float a jsou v rozmezí od 0 do 1. Freedom To Make Life Choices udává svobodu rozhodování, Generosity udává, jak moc lidi dávají peníze charitám a Perceptions of Corruption udávají, jak moc si lidé myslí, že je korupce ve vládě. Possitive Affect and Negative Affect udávají, jak moc lidé prožili pozitivní, respektive negativní emoce předchozí den. Confidence In National Government udává, jak velká část lidí důvěřuje své vládě.
Posledním datasetem, se kterým pracuji, je dataset z Freedomhouse.org. Tento dataset se zabývá mírou svobody. Tento dataset má celkem 44 sloupců a 2305 záznamů. Prvním sloupcem je jako u předchozích datasetů Country. Dalším sloupcem je Region, který je typu string a obsahuje hodnoty jako Europe, Asia atd. Dalším sloupcem je C/T, který obsahuje hodnoty 't' nebo 'c'. Dalším sloupcem je opět Year. Poté následuje Status, který udává, zda je země svobodná, částečně svobodná, nebo nesvobodná. Hodnoty jsou typu string a nabývají hodnot "F", "PF" a "NF". Dalšími sloupci jsou PR rating a CL rating, které udávají, jak dobrá jsou politická práva, respektive občanské svobody. Hodnoty jsou typu integer a jsou v rozmezí od 1 do 7, kde 1 je nejlepší a 7 nejhorší skóre. Dále následují sloupce A1 - G4, které udávají dílčí svobody a práva, která jsou shrnuta ve dvou řpedchozích sloupcích. Dále jsou zde sloupce PR a CL, které udávají skóre opět v politických právěch a civilních svobodách. Posledním sloupcem je Total, který udává celkovou míru svobody v dané zemi. Hodnoty jsou typu integer a jsou v rozmezí od -1 do 100.

Datasety je možné najít na:
https://freedomhouse.org/report/freedom-world#:~:text=Comparative%20and%20Historical%20Data%20Files%3A%0A%0A,Excel%20Download

https://www.kaggle.com/datasets/russellyates88/suicide-rates-overview-1985-to-2016

https://www.kaggle.com/datasets/usamabuttar/world-happiness-report-2005-present

### Provedené úpravy dat
Před nahráním do Elasticu a Kibany jsem datasety spojil do jednoho. Před tím jsem však nejprve odstranil některé sloupce a některé záznamy s neznámými hodnotami. V datasetu o sebevraždách se neznámé hodnoty vyskytují u většiny záznamů pro HDI for year, odstranil jsemt edy celý sloupec. V datasetu o svobodě se null hodnoty vyskytují pouze ve sloupci Add A, tento sloupec jsem tedy také odstranil. V datasetu o štěstí se neznámé hodnoty vyskytují v několika různých sloupcích, odstranil jsem tedy všechny záznamy s těmito hodnotami.
Jako první jsem z datasetu o štěstí odstranil sloupce 'Regional Indicator', 'Log GDP Per Capita', 'Healthy Life Expectancy At Birth' a 'Generosity'. Tyto sloupce jsem odstranil, jelikož HDP, předpokládané zdraví ani štědrost nejsou věcmi, které by byly podstatné pro mé téma. Regional Indicator jsem odstranil, jelikož mě nezajímá korelace mezi umístěním země ve světě a ostatními zkoumanými proměnnými. 
V datasetu o sebevraždách jsem odstranil sloupec country-year, jelikož je zbytečný díky přítomnosti sloupců Country a Year. Jako další jsem odstranil oba sloupce o HDP, které jsou pro mě málo podstatné, jelikžo moc nesouvisí s tématem, které zkoumám.
Jako poslední jsem z datasetů o svobodě odstranil odstranil všechny sloupce s hodnocením některých parciálních svobod, tedy všechny sloupce A1 - G4 a také sloupce PR a CL. Dále jsem odstranil sloupce Add Q, C/T a Status, jelikož informace z těchto sloupců jsou započítány do konečného hodnocení ve sloupci Total.
Po těchto úpravách jednotlivých datasetů jsem datasety spojil do jednoho podle společné země a roku ve sloupcích Country a Year.
Nakonec jsem ještě pro každou zemi a rok vytvořil záznam pro celou zemi nezávisle na věku a pohlaví a poté i záznamy pro jednotlivá pohlaví nezávisle na věku.

## Závěr
Z grafů je možné usoudit, že země, ve kterých jsou lidé šťastní, je méně sebevražd, což není úplně překvapivý závěr. Naopak v zemích, které jsou svobodnější, je větší počet sebevražd. Toto zjištění už je o něco překvapivější.
